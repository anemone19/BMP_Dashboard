% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{book}
\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math} % this also loads fontspec
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else
  % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
\usepackage{booktabs}
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage[]{natbib}
\bibliographystyle{plainnat}
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same}
\hypersetup{
  pdftitle={BMP Dashboard Manual},
  pdfauthor={Ané Cloete},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{BMP Dashboard Manual}
\author{Ané Cloete}
\date{2023-09-26}

\usepackage{amsthm}
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}{Lemma}[chapter]
\newtheorem{corollary}{Corollary}[chapter]
\newtheorem{proposition}{Proposition}[chapter]
\newtheorem{conjecture}{Conjecture}[chapter]
\theoremstyle{definition}
\newtheorem{definition}{Definition}[chapter]
\theoremstyle{definition}
\newtheorem{example}{Example}[chapter]
\theoremstyle{definition}
\newtheorem{exercise}{Exercise}[chapter]
\theoremstyle{definition}
\newtheorem{hypothesis}{Hypothesis}[chapter]
\theoremstyle{remark}
\newtheorem*{remark}{Remark}
\newtheorem*{solution}{Solution}
\begin{document}
\maketitle

{
\setcounter{tocdepth}{1}
\tableofcontents
}
\hypertarget{welcome}{%
\chapter{Welcome}\label{welcome}}

\hypertarget{usage}{%
\section{Usage}\label{usage}}

Each \textbf{bookdown} chapter is an .Rmd file, and each .Rmd file can contain one (and only one) chapter. A chapter \emph{must} start with a first-level heading: \texttt{\#\ A\ good\ chapter}, and can contain one (and only one) first-level heading.

Use second-level and higher headings within chapters like: \texttt{\#\#\ A\ short\ section} or \texttt{\#\#\#\ An\ even\ shorter\ section}.

The \texttt{index.Rmd} file is required, and is also your first book chapter. It will be the homepage when you render the book.

\hypertarget{render-book}{%
\section{Render book}\label{render-book}}

You can render the HTML version of this example book without changing anything:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Find the \textbf{Build} pane in the RStudio IDE, and
\item
  Click on \textbf{Build Book}, then select your output format, or select ``All formats'' if you'd like to use multiple formats from the same book source files.
\end{enumerate}

Or build the book from the R console:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bookdown}\SpecialCharTok{::}\FunctionTok{render\_book}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

To render this example to PDF as a \texttt{bookdown::pdf\_book}, you'll need to install XeLaTeX. You are recommended to install TinyTeX (which includes XeLaTeX): \url{https://yihui.org/tinytex/}.

\hypertarget{preview-book}{%
\section{Preview book}\label{preview-book}}

As you work, you may start a local server to live preview this HTML book. This preview will update as you edit the book when you save individual .Rmd files. You can start the server in a work session by using the RStudio add-in ``Preview book'', or from the R console:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bookdown}\SpecialCharTok{::}\FunctionTok{serve\_book}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\hypertarget{hello-bookdown}{%
\chapter{Hello bookdown}\label{hello-bookdown}}

All chapters start with a first-level heading followed by your chapter title, like the line above. There should be only one first-level heading (\texttt{\#}) per .Rmd file.

\hypertarget{a-section}{%
\section{A section}\label{a-section}}

All chapter sections start with a second-level (\texttt{\#\#}) or higher heading followed by your section title, like the sections above and below here. You can have as many as you want within a chapter.

\hypertarget{an-unnumbered-section}{%
\subsection*{An unnumbered section}\label{an-unnumbered-section}}
\addcontentsline{toc}{subsection}{An unnumbered section}

Chapters and sections are numbered by default. To un-number a heading, add a \texttt{\{.unnumbered\}} or the shorter \texttt{\{-\}} at the end of the heading, like in this section.

\hypertarget{the-data}{%
\chapter{The Data}\label{the-data}}

\hypertarget{setting-up-onedrive}{%
\section{Setting up OneDrive:}\label{setting-up-onedrive}}

The following instructions are for Mac users. If you are using windows, you should have OneDrive already installed on your computer.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Download OneDrive:}

  \begin{itemize}
  \tightlist
  \item
    Go to the Mac App Store on your laptop.
  \item
    Search for ``OneDrive.''
  \item
    Click on ``Get'' or ``Install'' to download the OneDrive app.
  \end{itemize}
\item
  \textbf{Install OneDrive:}

  \begin{itemize}
  \tightlist
  \item
    Once downloaded, open your Applications folder and locate the OneDrive app.
  \item
    Drag the OneDrive app to your Dock for easier access (optional).
  \end{itemize}
\item
  \textbf{Sign In:}

  \begin{itemize}
  \tightlist
  \item
    Open the OneDrive app.
  \item
    Sign in with your university account.
  \item
    Follow the on-screen prompts to set up OneDrive.
  \end{itemize}
\item
  \textbf{Choose Folders to Sync:}

  \begin{itemize}
  \tightlist
  \item
    Once signed in, you'll have the option to choose which folders from your OneDrive cloud storage you want to sync with your Mac.
  \item
    Select the folders you want or choose to sync everything.
  \end{itemize}
\item
  \textbf{Set OneDrive Preferences:}

  \begin{itemize}
  \tightlist
  \item
    Click on the OneDrive icon in the Mac menu bar at the top of your screen.
  \item
    Click on the three dots (More) and select ``Preferences.''
  \item
    Here, you can adjust settings like:

    \begin{itemize}
    \tightlist
    \item
      Starting OneDrive automatically when you sign in to your Mac.
    \item
      Choosing how files are downloaded or uploaded (e.g., over metered networks).
    \item
      Setting up file on-demand (allows you to see all your files without having them downloaded).
    \end{itemize}
  \end{itemize}
\item
  \textbf{Accessing Your Files:}

  \begin{itemize}
  \tightlist
  \item
    A OneDrive folder will now be present in your Mac's Finder. This folder will sync with your online OneDrive storage. { Any files or folders you add to this folder will be automatically uploaded to the cloud, and any changes you make to files in this folder will be reflected in the cloud version.} Read that again! It important that you know that if you change or delete any files in the OneDrive folder on your laptop it will affect the database online.
  \end{itemize}
\item
  \textbf{To Unlink or Sign Out:}

  \begin{itemize}
  \tightlist
  \item
    If you ever wish to unlink your account or sign out, click on the OneDrive icon in the Mac menu bar.
  \item
    Click on the three dots (More) and select ``Preferences.''
  \item
    Go to the ``Account'' tab and select ``Unlink this Mac.''
  \end{itemize}
\end{enumerate}

\hypertarget{windows}{%
\subsection{Windows:}\label{windows}}

\hypertarget{structure-of-the-biodiversity-kpi-mapping-master}{%
\section{Structure of the Biodiversity KPI Mapping Master}\label{structure-of-the-biodiversity-kpi-mapping-master}}

\hypertarget{getting-the-data}{%
\section{Getting the data}\label{getting-the-data}}

First, navigate to the R script called ``packages'' to check whether you have all the required packages, if you don't the script will also install and load them for you. Done!

Now navigate to the script ``RemoteDataPull\_Prepare'', it contains all the code for pulling and cleaning the biodiversity data collected by the students. Each student will have their own folder within this folder. Within each of the student folders, there are various geopackages, one for each taxa they have surveyed. The naming of the geopackages are their initials or names followed by the particular taxa, e.g.~Ericabutterflies.gpkg.

The most important first step here is to modify the object ``path\_to\_master'' with the filepath to where ever you have the OneDrive folder on your device and specifically to the main survey folder ``Biodiversity Survey Master''. If you are using a Mac, navigate to the folder in Finder and then in the bottom panel (see below), right click the folder name and select ``Copy''folder name'' as Pathname''.

\includegraphics{images/pathname_copy.png}

Let's break down the code:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Setting the Path to the Master Directory}:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{   path\_to\_master }\OtherTok{\textless{}{-}} \StringTok{"/Users/anecloete/Library/CloudStorage/OneDrive{-}UniversityofStAndrews/Biodiversity KPI mapping Master/Biodiversity Survey Master"}
\end{Highlighting}
\end{Shaded}

This line sets a variable called \texttt{path\_to\_master} to the path of the main directory where the geopackage files are located. Paste the pathname you copied here.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  \textbf{Obtaining All Geopackage Files}:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{   all\_gpkgs }\OtherTok{\textless{}{-}} \FunctionTok{list.files}\NormalTok{(}
     \AttributeTok{path =} \FunctionTok{paste}\NormalTok{(path\_to\_master),}
     \AttributeTok{recursive =} \ConstantTok{TRUE}\NormalTok{,}
     \AttributeTok{pattern =} \StringTok{"}\SpecialCharTok{\textbackslash{}\textbackslash{}}\StringTok{.gpkg$"}\NormalTok{,}
     \AttributeTok{full.names =} \ConstantTok{TRUE}
\NormalTok{   )}
\end{Highlighting}
\end{Shaded}

This code lists all files with the ``.gpkg'' extension in the specified directory and its subdirectories.
- The \texttt{path} argument specifies where to look.
- \texttt{recursive} set to \texttt{TRUE} means it will look in subdirectories as well.
- \texttt{pattern} filters for files ending with ``.gpkg''.
- \texttt{full.names} set to \texttt{TRUE} ensures the full path of each file is returned, not just its name.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  \textbf{Filtering Geopackages with `Habitat\_Polygon' in Their Name}:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{   survey\_polygons }\OtherTok{\textless{}{-}}\NormalTok{ all\_gpkgs[}\FunctionTok{grepl}\NormalTok{(}\StringTok{"Habitat\_Polygon"}\NormalTok{, all\_gpkgs)]}
\end{Highlighting}
\end{Shaded}

This filters the \texttt{all\_gpkgs} vector for filenames that contain the substring ``Habitat\_Polygon'' and assigns the subset to \texttt{survey\_polygons}.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  \textbf{Excluding Geopackages Based on Certain Keywords}:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{   pattern }\OtherTok{\textless{}{-}} \StringTok{"Polygon|DESKTOP|PC|LAPTOP|Wills"}
\NormalTok{   all\_gpkgs }\OtherTok{\textless{}{-}}\NormalTok{ all\_gpkgs[}\SpecialCharTok{!}\FunctionTok{grepl}\NormalTok{(pattern, all\_gpkgs)]}
\end{Highlighting}
\end{Shaded}

Here, a pattern is defined to exclude geopackages with certain keywords in their names. The \texttt{grepl} function checks for matches, and the \texttt{!} operator negates the condition to exclude matches.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{4}
\tightlist
\item
  \textbf{Exclude a Specific Problematic Geopackage}:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{   problematic\_gpkg }\OtherTok{\textless{}{-}} \FunctionTok{paste0}\NormalTok{(path\_to\_master,}\StringTok{"/Erica/Erica Backup/Ericabutterflies.gpkg"}\NormalTok{)}
\NormalTok{   all\_gpkgs }\OtherTok{\textless{}{-}}\NormalTok{ all\_gpkgs[all\_gpkgs }\SpecialCharTok{!=}\NormalTok{ problematic\_gpkg]}
\end{Highlighting}
\end{Shaded}

This code defines a specific geopackage file path that is ``problematic'' and then removes this file from the \texttt{all\_gpkgs} vector.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{5}
\tightlist
\item
  \textbf{Reading All Geopackages into a List}:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{myfiles }\OtherTok{\textless{}{-}} \FunctionTok{lapply}\NormalTok{(all\_gpkgs, st\_read)}
\end{Highlighting}
\end{Shaded}

The \texttt{lapply} function is used here to apply the \texttt{st\_read} function to each file path in the \texttt{all\_gpkgs} vector. The result is a list, with each element being the content of a geopackage file stored as an spatial features dataframe. The \texttt{st\_read} function is part of the \texttt{sf} package in R and is used to read spatial data.

In summary, this code:
- Sets a path to a master directory.
- Lists all geopackage files from this directory and its subdirectories.
- Filters and excludes certain geopackages based on keywords or specific filenames.
- Reads the content of each remaining geopackage file into a list.

\hypertarget{data-cleaning-and-preparation}{%
\section{Data cleaning and preparation}\label{data-cleaning-and-preparation}}

Most of this is self explanatory or is a bit tedious to explain. I would recommended investigating and exploring the data before the cleaning and preparation so that some of the lines make more sense. But here are a few notable things:

\begin{itemize}
\tightlist
\item
  Each student have a backup folder embedded in their folder, these geopackages are removed in line 72
\item
  There is separate geopackage for tree data collected, this is included in the dashboard so is cleaned separately and then joined to the rest.
\item
  The Species column contains the name of the species recorded, whether this is the scientific name, the common name or anything else. So all the naming columns are coalesced into one column called Species.
\item
  Line 135 was necessary because for some reason empty entries in the relevant columns were ``\,'' and not NA
\end{itemize}

Some of the code could be a little less sausage making-ish and could be simplified (somethings were added after the fact etc), feel free to make it more efficient!

\textbf{SUMMARY}:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Coordinate Transformation}:

  \begin{itemize}
  \tightlist
  \item
    Transforms the coordinate reference system of spatial data to standard latitude and longitude (EPSG:4326).
  \end{itemize}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Transform coordinate reference system from WGS 84 / Pseudo{-}Mercator to standard lat long (EPSG:4326)}
\NormalTok{taxa\_dat }\OtherTok{\textless{}{-}} \FunctionTok{lapply}\NormalTok{(myfiles, }\ControlFlowTok{function}\NormalTok{(x) }\FunctionTok{st\_transform}\NormalTok{(x, }\DecValTok{4326}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  \textbf{Data Conversions}:

  \begin{itemize}
  \tightlist
  \item
    Converts the spatial data frames to regular data frames.
  \item
    Names each data frame in the list based on the geopackage filename.
  \item
    Removes duplicate data frames based on their names.
  \end{itemize}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Convert spatial data frames to regular data frames}
\NormalTok{taxa\_dat }\OtherTok{\textless{}{-}} \FunctionTok{lapply}\NormalTok{(taxa\_dat, as.data.frame)}

\CommentTok{\# Name each data frame in the list based on the geopackage filename}
\FunctionTok{names}\NormalTok{(taxa\_dat) }\OtherTok{\textless{}{-}} \FunctionTok{basename}\NormalTok{(all\_gpkgs)}

\CommentTok{\# Remove any duplicate data frames by name}
\NormalTok{taxa\_dat }\OtherTok{\textless{}{-}}\NormalTok{ taxa\_dat[}\SpecialCharTok{!}\FunctionTok{duplicated}\NormalTok{(}\FunctionTok{names}\NormalTok{(taxa\_dat))]}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  \textbf{Tree Entries Package Preparation}:

  \begin{itemize}
  \tightlist
  \item
    Modifies columns for a specific geopackage (`Tree Species Entries.gpkg') to ensure compatibility with subsequent operations.
  \item
    Cleans and modifies species names.
  \item
    Sets certain columns to specific values or \texttt{NA}.
  \item
    Filters and selects specific columns.
  \end{itemize}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Modify certain columns for \textquotesingle{}Tree Species Entries.gpkg\textquotesingle{} so that bind\_rows works }
\NormalTok{taxa\_dat}\SpecialCharTok{$}\StringTok{\textasciigrave{}}\AttributeTok{Tree Species Entries.gpkg}\StringTok{\textasciigrave{}} \OtherTok{\textless{}{-}}\NormalTok{ taxa\_dat}\SpecialCharTok{$}\StringTok{\textasciigrave{}}\AttributeTok{Tree Species Entries.gpkg}\StringTok{\textasciigrave{}} \SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{rename}\NormalTok{(}\AttributeTok{Species =} \DecValTok{1}\NormalTok{, }\AttributeTok{Date =} \DecValTok{2}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}
    \AttributeTok{Species =} \FunctionTok{case\_when}\NormalTok{(}
\NormalTok{      Species }\SpecialCharTok{\%in\%} \FunctionTok{c}\NormalTok{(}\StringTok{"unknown/other"}\NormalTok{, }\StringTok{"Unknown/other"}\NormalTok{) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ comments.unlisted.species,}
\NormalTok{      Species }\SpecialCharTok{==} \StringTok{"Unknown young pine "} \SpecialCharTok{\textasciitilde{}} \StringTok{"Unknown young pine"}\NormalTok{,}
\NormalTok{      Species }\SpecialCharTok{==} \StringTok{"Willow x10"} \SpecialCharTok{\textasciitilde{}} \StringTok{"Willow"}\NormalTok{,}
      \ConstantTok{TRUE} \SpecialCharTok{\textasciitilde{}}\NormalTok{ Species}
\NormalTok{    ),}
    \AttributeTok{taxa =} \StringTok{"Vascular Plants"}\NormalTok{,}
    \AttributeTok{Observer =} \ConstantTok{NA}\NormalTok{,}
    \AttributeTok{photoid =} \ConstantTok{NA}\NormalTok{,}
    \AttributeTok{Count =} \ConstantTok{NA}\NormalTok{,}
    \AttributeTok{Other =} \ConstantTok{NA}\NormalTok{,}
    \AttributeTok{Speciesful =} \ConstantTok{NA}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{filter}\NormalTok{(Species }\SpecialCharTok{!=} \StringTok{""}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{select}\NormalTok{(Species, Date, taxa, Count)}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  \textbf{Date Processing}:

  \begin{itemize}
  \tightlist
  \item
    Converts, splits, and extracts components (year, month, day) of the `Date' column.
  \end{itemize}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Date Processing: Convert, split and extract components of the \textquotesingle{}Date\textquotesingle{} column}
\NormalTok{taxa\_dat }\OtherTok{\textless{}{-}} \FunctionTok{lapply}\NormalTok{(taxa\_dat, }\ControlFlowTok{function}\NormalTok{(df) \{}
  
\NormalTok{  df}\SpecialCharTok{$}\NormalTok{Date }\OtherTok{\textless{}{-}} \FunctionTok{as.character}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{Date)}
  
\NormalTok{  df }\OtherTok{\textless{}{-}}\NormalTok{ df }\SpecialCharTok{\%\textgreater{}\%}
    \FunctionTok{separate}\NormalTok{(Date, }\AttributeTok{into =} \FunctionTok{c}\NormalTok{(}\StringTok{"date"}\NormalTok{, }\StringTok{"time"}\NormalTok{), }\AttributeTok{sep =} \StringTok{" (?=[\^{} ]+$)"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
    \FunctionTok{mutate}\NormalTok{(}
      \AttributeTok{date =} \FunctionTok{ymd}\NormalTok{(}\FunctionTok{gsub}\NormalTok{(}\StringTok{"/"}\NormalTok{, }\StringTok{"{-}"}\NormalTok{, date)),}
      \AttributeTok{year =} \FunctionTok{year}\NormalTok{(date),}
      \AttributeTok{month =} \FunctionTok{month}\NormalTok{(date),}
      \AttributeTok{day =} \FunctionTok{day}\NormalTok{(date)}
\NormalTok{    )}
  \FunctionTok{return}\NormalTok{(df)}
\NormalTok{\})}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{4}
\tightlist
\item
  \textbf{Tree Data Extraction}:

  \begin{itemize}
  \tightlist
  \item
    Removes the tree data frame from the list and stores it separately.
  \end{itemize}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Extract and remove the tree dataframe from the list}
\NormalTok{tree\_data }\OtherTok{\textless{}{-}}\NormalTok{ taxa\_dat}\SpecialCharTok{$}\StringTok{\textasciigrave{}}\AttributeTok{Tree Species Entries.gpkg}\StringTok{\textasciigrave{}}
\NormalTok{taxa\_dat}\SpecialCharTok{$}\StringTok{\textasciigrave{}}\AttributeTok{Tree Species Entries.gpkg}\StringTok{\textasciigrave{}} \OtherTok{\textless{}{-}} \ConstantTok{NULL}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{5}
\tightlist
\item
  \textbf{Combining Data}:

  \begin{itemize}
  \tightlist
  \item
    Merges all data frames in the list into a single data frame.
  \end{itemize}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Combine all data frames in the list into a single data frame}
\NormalTok{taxa\_comb }\OtherTok{\textless{}{-}} \FunctionTok{bind\_rows}\NormalTok{(taxa\_dat)}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{6}
\tightlist
\item
  \textbf{Data Cleaning and Transformation}:

  \begin{itemize}
  \tightlist
  \item
    Performs several operations to clean and transform the combined data, including:

    \begin{itemize}
    \tightlist
    \item
      Date conversions and modifications.
    \item
      Handling missing values.
    \item
      Excluding certain records.
    \item
      Recoding values in various columns.
    \item
      Selecting and renaming columns.
    \end{itemize}
  \end{itemize}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Clean and transform taxa data for further analysis}
\NormalTok{taxa\_clean }\OtherTok{\textless{}{-}}\NormalTok{ taxa\_comb }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{drop\_na}\NormalTok{(taxa) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{as.character}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{Date) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{separate}\NormalTok{(Date, }\AttributeTok{into =} \FunctionTok{c}\NormalTok{(}\StringTok{"date"}\NormalTok{, }\StringTok{"time"}\NormalTok{), }\AttributeTok{sep =} \StringTok{" (?=[\^{} ]+$)"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}
    \AttributeTok{date =} \FunctionTok{ymd}\NormalTok{(}\FunctionTok{gsub}\NormalTok{(}\StringTok{"/"}\NormalTok{, }\StringTok{"{-}"}\NormalTok{, date)),}
    \AttributeTok{year =} \FunctionTok{year}\NormalTok{(date),}
    \AttributeTok{month =} \FunctionTok{month}\NormalTok{(date),}
    \AttributeTok{day =} \FunctionTok{day}\NormalTok{(date)}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{filter}\NormalTok{(}\SpecialCharTok{!}\NormalTok{(taxa }\SpecialCharTok{==} \StringTok{"hoverfly"} \SpecialCharTok{\&}\NormalTok{ Observer }\SpecialCharTok{==} \StringTok{"Erica"}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%} \CommentTok{\# remove Erica hoverfly entries }
  \FunctionTok{unite}\NormalTok{(collapsed\_species, specieslatin}\SpecialCharTok{:}\NormalTok{seaweedlatin, }\AttributeTok{sep =} \StringTok{","}\NormalTok{, }\AttributeTok{na.rm =} \ConstantTok{TRUE}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate\_at}\NormalTok{(}\FunctionTok{vars}\NormalTok{(Species, collapsed\_species), na\_if, }\StringTok{""}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}
    \AttributeTok{Species =} \FunctionTok{coalesce}\NormalTok{(Species, SpeciesSci, Speciesfull, collapsed\_species, species, Other),}
    \AttributeTok{photoid =} \FunctionTok{if\_else}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(photoid), }\ConstantTok{NA}\NormalTok{, }\FunctionTok{paste0}\NormalTok{(photoid, }\StringTok{".jpg"}\NormalTok{)),}
    \AttributeTok{Count =} \FunctionTok{ifelse}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(Count), }\DecValTok{1}\NormalTok{, Count),}
    \AttributeTok{taxa =} \FunctionTok{recode}\NormalTok{(taxa, }\AttributeTok{tree =} \StringTok{"Vascular Plants"}\NormalTok{),}
    \AttributeTok{year =} \FunctionTok{recode}\NormalTok{(year, }\StringTok{\textasciigrave{}}\AttributeTok{2023}\StringTok{\textasciigrave{}} \OtherTok{=} \StringTok{"2022/2023"}\NormalTok{, }\StringTok{\textasciigrave{}}\AttributeTok{2022}\StringTok{\textasciigrave{}} \OtherTok{=} \StringTok{"2022/2023"}\NormalTok{)}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{filter}\NormalTok{(}\SpecialCharTok{!}\FunctionTok{str\_detect}\NormalTok{(Species, }\StringTok{"(?i)unknown"}\NormalTok{), taxa }\SpecialCharTok{!=} \StringTok{"bee"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{filter\_at}\NormalTok{(}\FunctionTok{vars}\NormalTok{(taxa, Observer), }\FunctionTok{all\_vars}\NormalTok{(}\SpecialCharTok{!}\FunctionTok{is.na}\NormalTok{(.))) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}
    \AttributeTok{taxa =} \FunctionTok{recode}\NormalTok{(taxa, }
                  \AttributeTok{plant =} \StringTok{"Vascular Plants"}\NormalTok{,}
                  \AttributeTok{bird =} \StringTok{"Birds"}\NormalTok{,}
                  \AttributeTok{macromoth =} \StringTok{"Macromoths"}\NormalTok{,}
                  \AttributeTok{micromoth =} \StringTok{"Micromoths"}\NormalTok{,}
                  \AttributeTok{butterfly =} \StringTok{"Butterflies"}\NormalTok{,}
                  \AttributeTok{dragonfly =} \StringTok{"Dragonflies"}\NormalTok{,}
                  \AttributeTok{hoverfly =} \StringTok{"Hoverflies"}\NormalTok{,}
                  \AttributeTok{bat =} \StringTok{"Bats"}\NormalTok{,}
                  \AttributeTok{amphibian =} \StringTok{"Amphibians"}\NormalTok{,}
                  \AttributeTok{reptileamphibian =} \StringTok{"Amphibians"}\NormalTok{,}
                  \AttributeTok{bumblebee =} \StringTok{"Bumblebee"}\NormalTok{,}
                  \AttributeTok{mammal =} \StringTok{"Mammals"}\NormalTok{,}
                  \AttributeTok{ladybird =} \StringTok{"Ladybirds"}\NormalTok{,}
                  \AttributeTok{tree =} \StringTok{"Vascular Plants"}\NormalTok{),}
    \AttributeTok{year =} \FunctionTok{recode}\NormalTok{(year,}
                  \StringTok{"2023"} \OtherTok{=} \StringTok{"2022/2023"}\NormalTok{,}
                  \StringTok{"2022"} \OtherTok{=} \StringTok{"2022/2023"}\NormalTok{),}
    \AttributeTok{Observer =} \FunctionTok{recode}\NormalTok{(Observer,}
                      \AttributeTok{Other1 =} \StringTok{"Cori"}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{select}\NormalTok{(Species, SpeciesSci, Count, date, Observer, taxa, photoid, geometry, year, day) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{rename}\NormalTok{(}
    \AttributeTok{Date =}\NormalTok{ date,}
    \AttributeTok{Taxa =}\NormalTok{ taxa,}
    \AttributeTok{PhotoID =}\NormalTok{ photoid}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{7}
\tightlist
\item
  \textbf{Merging Tree Data with Cleaned Data}:

  \begin{itemize}
  \tightlist
  \item
    Prepares the tree data to be merged with the cleaned data.
  \item
    Merges both datasets.
  \end{itemize}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# tree data prep for bind}
\NormalTok{tree\_data }\OtherTok{\textless{}{-}}\NormalTok{ tree\_data }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}
    \AttributeTok{year =} \FunctionTok{ifelse}\NormalTok{(year }\SpecialCharTok{==} \StringTok{"2023"} \SpecialCharTok{|}\NormalTok{ year }\SpecialCharTok{==} \StringTok{"2022"}\NormalTok{, }\StringTok{"2022/2023"}\NormalTok{, year),}
    \AttributeTok{Count =} \DecValTok{1} \CommentTok{\# add column count }
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{rename}\NormalTok{(}
    \AttributeTok{Date =}\NormalTok{ date,}
    \AttributeTok{Taxa =}\NormalTok{ taxa}
\NormalTok{  )}

\CommentTok{\# Merge tree data with the cleaned data}
\NormalTok{all\_years }\OtherTok{\textless{}{-}} \FunctionTok{bind\_rows}\NormalTok{(taxa\_clean, tree\_data)}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{8}
\tightlist
\item
  \textbf{Geometry Processing}:

  \begin{itemize}
  \tightlist
  \item
    Splits the geometry column into separate latitude and longitude columns.
  \end{itemize}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# split into lat and long for mapping }
\NormalTok{all\_years }\OtherTok{\textless{}{-}}\NormalTok{ all\_years }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{mutate}\NormalTok{(}\AttributeTok{long =} \FunctionTok{unlist}\NormalTok{(}\FunctionTok{map}\NormalTok{(geometry,}\DecValTok{1}\NormalTok{)),}
           \AttributeTok{lat =} \FunctionTok{unlist}\NormalTok{(}\FunctionTok{map}\NormalTok{(geometry,}\DecValTok{2}\NormalTok{)))}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{9}
\tightlist
\item
  \textbf{Saving the Resulting Data}:

  \begin{itemize}
  \tightlist
  \item
    Saves the final data frame both as an RData object and as a CSV file.
  \end{itemize}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Save the resulting dataframe}
\FunctionTok{save}\NormalTok{(all\_years, }\AttributeTok{file =} \StringTok{"all\_years.RData"}\NormalTok{)}
\FunctionTok{write.csv}\NormalTok{(all\_years, }\AttributeTok{file =} \StringTok{"all\_years.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{pulling-photos-and-documents-from-onedrive}{%
\section{Pulling photos and documents from OneDrive}\label{pulling-photos-and-documents-from-onedrive}}

\hypertarget{photos}{%
\subsection{Photos}\label{photos}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Reading Team Photos from a Directory}:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
   \CommentTok{\# read in all photo files within Survey\_Photos in OneDrive Folder}
\NormalTok{   all\_Tphotos }\OtherTok{\textless{}{-}} \FunctionTok{list.files}\NormalTok{(}
     \AttributeTok{path =}   \FunctionTok{paste0}\NormalTok{(path\_to\_master,}\StringTok{"/Team\_data"}\NormalTok{),}
     \AttributeTok{recursive =} \ConstantTok{TRUE}\NormalTok{,}
     \AttributeTok{pattern =} \StringTok{"}\SpecialCharTok{\textbackslash{}\textbackslash{}}\StringTok{.jpg$"}\NormalTok{,}
     \AttributeTok{full.names =} \ConstantTok{FALSE}
\NormalTok{   )}
\end{Highlighting}
\end{Shaded}

This is the same as the first few lines of code, except that the path is constructed by appending ``/Team\_data'' to the \texttt{path\_to\_master}.

The result is stored in \texttt{all\_Tphotos}, which will be a vector of filenames (with ``.jpg'' extension) from the specified directory and its subdirectories.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  \textbf{Constructing a Destination Path for Team Photos}:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{   www\_Tfolder\_path }\OtherTok{\textless{}{-}} \FunctionTok{file.path}\NormalTok{(}\FunctionTok{getwd}\NormalTok{(), }\StringTok{"www/Team\_Data"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

This line constructs a path by combining the current working directory (obtained using \texttt{getwd()}) with ``www/Team\_Data''.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  \textbf{Copying the Team Photos}:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{   photo\_move }\OtherTok{\textless{}{-}} \FunctionTok{file.copy}\NormalTok{(}
     \AttributeTok{from =} \FunctionTok{file.path}\NormalTok{(}\FunctionTok{paste0}\NormalTok{(path\_to\_master,}\StringTok{"/Team\_data"}\NormalTok{), all\_Tphotos),}
     \AttributeTok{to =} \FunctionTok{file.path}\NormalTok{(}\FunctionTok{paste}\NormalTok{(www\_Tfolder\_path), all\_Tphotos)}
\NormalTok{   )}
\end{Highlighting}
\end{Shaded}

Here, \texttt{file.copy} is used to copy files. The \texttt{from} argument constructs the full paths of the source files, and the \texttt{to} argument constructs the full paths of the destination. The photos are copied from the source directory to the destination.

The same process as above is then done for the Survey Photos.

In summary, the code is designed to:

\begin{itemize}
\tightlist
\item
  Read all ``.jpg'' files from ``Team\_data'' and ``Survey\_Photos'' directories (including subdirectories).
\item
  Copy those files to two new destinations under the ``www'' folder in the current working directory.
\end{itemize}

\hypertarget{documents}{%
\subsection{Documents}\label{documents}}

The code for downloading and saving the students' about me descriptions is very similar to the process above. The only addition is that the text of the ``student\_aboutme'' word document is then extracted and saved into an object called ``student\_text''. Then the text is split into paragraphs.

\hypertarget{things-to-think-about}{%
\section{Things to think about}\label{things-to-think-about}}

How will the next years data be included? In the same folder? New QGIS folder?

\hypertarget{parts}{%
\chapter{Parts}\label{parts}}

You can add parts to organize one or more book chapters together. Parts can be inserted at the top of an .Rmd file, before the first-level chapter heading in that same file.

Add a numbered part: \texttt{\#\ (PART)\ Act\ one\ \{-\}} (followed by \texttt{\#\ A\ chapter})

Add an unnumbered part: \texttt{\#\ (PART\textbackslash{}*)\ Act\ one\ \{-\}} (followed by \texttt{\#\ A\ chapter})

Add an appendix as a special kind of un-numbered part: \texttt{\#\ (APPENDIX)\ Other\ stuff\ \{-\}} (followed by \texttt{\#\ A\ chapter}). Chapters in an appendix are prepended with letters instead of numbers.

\hypertarget{footnotes-and-citations}{%
\chapter{Footnotes and citations}\label{footnotes-and-citations}}

\hypertarget{footnotes}{%
\section{Footnotes}\label{footnotes}}

Footnotes are put inside the square brackets after a caret \texttt{\^{}{[}{]}}. Like this one \footnote{This is a footnote.}.

\hypertarget{citations}{%
\section{Citations}\label{citations}}

Reference items in your bibliography file(s) using \texttt{@key}.

For example, we are using the \textbf{bookdown} package \citep{R-bookdown} (check out the last code chunk in index.Rmd to see how this citation key was added) in this sample book, which was built on top of R Markdown and \textbf{knitr} \citep{xie2015} (this citation was added manually in an external file book.bib).
Note that the \texttt{.bib} files need to be listed in the index.Rmd with the YAML \texttt{bibliography} key.

The RStudio Visual Markdown Editor can also make it easier to insert citations: \url{https://rstudio.github.io/visual-markdown-editing/\#/citations}

\hypertarget{blocks}{%
\chapter{Blocks}\label{blocks}}

\hypertarget{equations}{%
\section{Equations}\label{equations}}

Here is an equation.

\begin{equation} 
  f\left(k\right) = \binom{n}{k} p^k\left(1-p\right)^{n-k}
  \label{eq:binom}
\end{equation}

You may refer to using \texttt{\textbackslash{}@ref(eq:binom)}, like see Equation \eqref{eq:binom}.

\hypertarget{theorems-and-proofs}{%
\section{Theorems and proofs}\label{theorems-and-proofs}}

Labeled theorems can be referenced in text using \texttt{\textbackslash{}@ref(thm:tri)}, for example, check out this smart theorem \ref{thm:tri}.

\begin{theorem}
\protect\hypertarget{thm:tri}{}\label{thm:tri}For a right triangle, if \(c\) denotes the \emph{length} of the hypotenuse
and \(a\) and \(b\) denote the lengths of the \textbf{other} two sides, we have
\[a^2 + b^2 = c^2\]
\end{theorem}

Read more here \url{https://bookdown.org/yihui/bookdown/markdown-extensions-by-bookdown.html}.

\hypertarget{callout-blocks}{%
\section{Callout blocks}\label{callout-blocks}}

The R Markdown Cookbook provides more help on how to use custom blocks to design your own callouts: \url{https://bookdown.org/yihui/rmarkdown-cookbook/custom-blocks.html}

\hypertarget{sharing-your-book}{%
\chapter{Sharing your book}\label{sharing-your-book}}

\hypertarget{publishing}{%
\section{Publishing}\label{publishing}}

HTML books can be published online, see: \url{https://bookdown.org/yihui/bookdown/publishing.html}

\hypertarget{pages}{%
\section{404 pages}\label{pages}}

By default, users will be directed to a 404 page if they try to access a webpage that cannot be found. If you'd like to customize your 404 page instead of using the default, you may add either a \texttt{\_404.Rmd} or \texttt{\_404.md} file to your project root and use code and/or Markdown syntax.

\hypertarget{metadata-for-sharing}{%
\section{Metadata for sharing}\label{metadata-for-sharing}}

Bookdown HTML books will provide HTML metadata for social sharing on platforms like Twitter, Facebook, and LinkedIn, using information you provide in the \texttt{index.Rmd} YAML. To setup, set the \texttt{url} for your book and the path to your \texttt{cover-image} file. Your book's \texttt{title} and \texttt{description} are also used.

This \texttt{gitbook} uses the same social sharing data across all chapters in your book- all links shared will look the same.

Specify your book's source repository on GitHub using the \texttt{edit} key under the configuration options in the \texttt{\_output.yml} file, which allows users to suggest an edit by linking to a chapter's source file.

Read more about the features of this output format here:

\url{https://pkgs.rstudio.com/bookdown/reference/gitbook.html}

Or use:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{?bookdown}\SpecialCharTok{::}\NormalTok{gitbook}
\end{Highlighting}
\end{Shaded}


  \bibliography{book.bib,packages.bib}

\end{document}
